<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¹¸é‹å¤§æŠ½ç (1:1 ä½ˆå±€)</title>
    <style>
        /* å…¨åŸŸè¨­å®š */
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: "Segoe UI", "Microsoft JhengHei", sans-serif;
            background-color: #f0f2f5;
            overflow: hidden; /* é˜²æ­¢æ•´å€‹é é¢æ²å‹• */
        }

        /* ä¸»å®¹å™¨ï¼šä½¿ç”¨ Grid é”æˆ 1:1 åˆ†å‰² */
        .main-container {
            display: grid;
            grid-template-columns: 1fr 1fr; /* 1:1 æ¯”ä¾‹ */
            height: 100vh; /* ä½”æ»¿å…¨è¢å¹•é«˜åº¦ */
            width: 100vw;
        }

        /* å·¦å´ï¼šæŠ½çè¨­å®šå€ */
        .left-panel {
            background: #ffffff;
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-right: 2px solid #ddd;
            box-shadow: 2px 0 10px rgba(0,0,0,0.05);
        }

        /* å³å´ï¼šä¸­çåå–®å€ */
        .right-panel {
            background: #fff5f5; /* æ·¡ç´…è‰²èƒŒæ™¯ä»£è¡¨å–œæ°£ */
            padding: 20px;
            display: flex;
            flex-direction: column;
            overflow: hidden; /* å…§éƒ¨æ»¾å‹• */
        }

        /* æ¨™é¡Œæ¨£å¼ */
        h2 {
            margin-top: 0;
            color: #333;
            border-bottom: 2px solid #c40000;
            padding-bottom: 10px;
            margin-bottom: 20px;
            width: 100%;
            text-align: center;
        }

        /* è¼¸å…¥æ¡†å€åŸŸ */
        .input-group {
            width: 100%;
            max-width: 400px;
            text-align: center;
        }
        
        textarea {
            width: 100%;
            height: 150px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 8px;
            font-size: 16px;
            resize: none;
            margin-bottom: 10px;
        }

        /* æŒ‰éˆ•æ¨£å¼ */
        button {
            padding: 15px 30px;
            font-size: 20px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            transition: transform 0.1s;
            margin: 5px;
        }
        
        #drawBtn {
            background-color: #c40000;
            color: white;
            box-shadow: 0 4px 6px rgba(196, 0, 0, 0.3);
        }
        
        #drawBtn:active { transform: scale(0.95); }
        #resetBtn { background-color: #666; color: white; font-size: 16px; }

        /* --- é—œéµä¿®æ”¹ï¼šæ©«å‘æ’åˆ—çš„ä¸­çåå–® --- */
        #winnersContainer {
            flex: 1; /* ä½”æ»¿å‰©é¤˜é«˜åº¦ */
            display: flex;
            flex-direction: row; /* æ©«å‘æ’åˆ— */
            flex-wrap: wrap;     /* è‡ªå‹•æ›è¡Œ */
            align-content: flex-start; /* å…§å®¹é ä¸Šå°é½Š */
            gap: 10px;           /* é …ç›®é–“è· */
            overflow-y: auto;    /* å¦‚æœçœŸçš„å¤ªå¤šï¼Œæ‰å‡ºç¾å…§éƒ¨æ²è»¸ */
            padding: 10px;
            border: 1px dashed #c40000;
            border-radius: 10px;
            background: white;
        }

        /* ä¸­çè€…æ¨™ç±¤æ¨£å¼ */
        .winner-tag {
            background: #ff5252;
            color: white;
            padding: 10px 20px;
            font-size: 24px; /* å­—é«”å¤§ä¸€é» */
            font-weight: bold;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            animation: popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            
            /* è®“æ¯å€‹åå­—ä¸è¢«åˆ‡æ–· */
            white-space: nowrap; 
        }

        /* å‰›æŠ½å‡ºçš„å‹•ç•« */
        @keyframes popIn {
            0% { transform: scale(0); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        /* é¡¯ç¤ºç›®å‰æŠ½çç‹€æ…‹çš„å¤§å­— */
        #currentDraw {
            height: 60px;
            font-size: 40px;
            color: #c40000;
            font-weight: bold;
            margin: 20px 0;
            min-height: 50px;
        }

        /* æ‰‹æ©Ÿç‰ˆé©é…ï¼šè®Šæˆä¸Šä¸‹æ’åˆ— */
        @media (max-width: 768px) {
            .main-container {
                grid-template-columns: 1fr; /* è®Šæˆå–®æ¬„ */
                grid-template-rows: 1fr 1fr; /* ä¸Šä¸‹å„åŠ */
                height: auto;
                min-height: 100vh;
            }
            .left-panel { border-right: none; border-bottom: 2px solid #ddd; }
            body { overflow: auto; }
        }
    </style>
</head>
<body>

    <div class="main-container">
        
        <!-- å·¦åŠé‚Šï¼šè¨­å®šèˆ‡æ§åˆ¶ -->
        <div class="left-panel">
            <h2>ğŸ›ï¸ æŠ½çè¨­å®š</h2>
            
            <div class="input-group">
                <p>è«‹è¼¸å…¥åå–® (ä¸€è¡Œä¸€å€‹åå­—)</p>
                <textarea id="nameList" placeholder="ç‹å°æ˜&#10;æå¤§è¯&#10;é™³é›…å©·&#10;å¼µå¿—è±ª">ç‹å°æ˜
æå¤§è¯
é™³é›…å©·
å¼µå¿—è±ª
æ—æ€¡å›
é™³å»ºå®
é»ƒæ·‘èŠ¬
æ—å¿—ç©
å‘¨æ°å€«
è”¡ä¾æ—
äº”æœˆå¤©
å¼µæƒ å¦¹</textarea>
                
                <div id="currentDraw">æº–å‚™æŠ½ç</div>
                
                <button id="drawBtn">ğŸ° é–‹å§‹æŠ½ç</button>
                <button id="resetBtn">ğŸ”„ æ¸…ç©ºé‡ç½®</button>
            </div>
        </div>

        <!-- å³åŠé‚Šï¼šä¸­çåå–® (æ©«å‘æ’åˆ—) -->
        <div class="right-panel">
            <h2>ğŸ† ä¸­çåå–®</h2>
            <div id="winnersContainer">
                <!-- ä¸­çè€…æœƒå‡ºç¾åœ¨é€™è£¡ -->
            </div>
        </div>

    </div>

    <script>
        const nameListInput = document.getElementById('nameList');
        const drawBtn = document.getElementById('drawBtn');
        const resetBtn = document.getElementById('resetBtn');
        const currentDrawDisplay = document.getElementById('currentDraw');
        const winnersContainer = document.getElementById('winnersContainer');

        let isDrawing = false;
        let candidates = [];

        // åˆå§‹åŒ–ï¼šè®€å–è¼¸å…¥æ¡†çš„æ–‡å­—
        function getCandidates() {
            return nameListInput.value.split('\n').map(n => n.trim()).filter(n => n !== "");
        }

        drawBtn.addEventListener('click', () => {
            if (isDrawing) return;

            candidates = getCandidates();

            if (candidates.length === 0) {
                alert("åå–®æ˜¯ç©ºçš„ï¼");
                return;
            }

            // é–‹å§‹å‹•ç•«æ•ˆæœ
            isDrawing = true;
            drawBtn.disabled = true;
            let counter = 0;
            const maxAnimation = 20; // è·³å‹•æ¬¡æ•¸
            
            const interval = setInterval(() => {
                // éš¨æ©Ÿé¡¯ç¤ºåå­—è£½é€ ç·Šå¼µæ„Ÿ
                const randomIndex = Math.floor(Math.random() * candidates.length);
                currentDrawDisplay.innerText = candidates[randomIndex];
                counter++;

                if (counter > maxAnimation) {
                    clearInterval(interval);
                    finalizeWinner();
                }
            }, 50); // è·³å‹•é€Ÿåº¦
        });

        function finalizeWinner() {
            // çœŸæ­£çš„æŠ½çé‚è¼¯
            const randomIndex = Math.floor(Math.random() * candidates.length);
            const winner = candidates[randomIndex];

            // é¡¯ç¤ºçµæœ
            currentDrawDisplay.innerText = "ğŸ‰ " + winner;

            // 1. æ–°å¢åˆ°å³å´ä¸­çå€
            const tag = document.createElement('div');
            tag.className = 'winner-tag';
            tag.innerText = winner;
            winnersContainer.appendChild(tag);

            // 2. å¾å·¦å´è¼¸å…¥æ¡†ç§»é™¤è©²åå­— (é¿å…é‡è¤‡æŠ½ä¸­)
            candidates.splice(randomIndex, 1);
            nameListInput.value = candidates.join('\n');

            // æ¢å¾©æŒ‰éˆ•
            isDrawing = false;
            drawBtn.disabled = false;
        }

        resetBtn.addEventListener('click', () => {
            if(confirm("ç¢ºå®šè¦æ¸…ç©ºä¸­çåå–®ä¸¦é‡ç½®å—ï¼Ÿ")) {
                winnersContainer.innerHTML = "";
                currentDrawDisplay.innerText = "æº–å‚™æŠ½ç";
                // é€™è£¡æ‚¨å¯ä»¥æ±ºå®šæ˜¯å¦è¦æ¢å¾©é è¨­åå–®
            }
        });
    </script>

</body>
</html>
